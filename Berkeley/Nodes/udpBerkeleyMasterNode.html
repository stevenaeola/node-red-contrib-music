<script type="text/javascript">
 RED.nodes.registerType('berkeley-master',{
     category: 'synchronisation',
     color: '#a6bbcf',
     defaults: {
	 name: {value:""},
	 port: {value: 41236},
	 sampleInterval: {value: 2000}
     },
     inputs:1,
     outputs:0,
     icon: "file.png",
     label: function() {
		return this.name||"berkeley-master";
     },

     oneditprepare: function(){
		 var node = this;
     },

     oneditsave: function(){
		 var node = this;
     }
 });
</script>

<script type="text/x-red" data-template-name="berkeley-master">
  <div class="form-row">
    <label for="node-input-name"><i class="icon-tag"></i> Name</label>
    <input type="text" id="node-input-name" placeholder="name">
  </div>
  <div class="form-row">
    <label for="node-input-bpm"><i class="icon-tag"></i> Sample interval (ms)</label>
    <input type="number" id="node-input-sampleInterval" placeholder="2000">
  </div>
  <div class="form-row">
    <label for="node-input-latency"><i class="icon-tag"></i> Port</label>
    <input type="number" id="node-input-port" placeholder="41236">
  </div>
</script>

<script type="text/x-red" data-help-name="berkeley-master">
	<p>This node sets the global context "clock" variable. </p>
	<p>The node uses UDP to communicate with berkeley-slave nodes and you can set the port that this UDP server will run on.</p>
	<p>sampleInterval sets the time between synchronisation rounds in milliseconds.</p>
	<p>Inject a "start" message to start the synchronisation with all associated berkeley-slave nodes.</p>
	<p>Inject a "stop" message to stop the synchronisation.</p>
</script>
